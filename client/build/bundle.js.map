{"version":3,"sources":["webpack:///webpack/bootstrap 1a002b12bc793bbd5ef5","webpack:///./src/app.js","webpack:///./src/services/request.js","webpack:///./src/views/countryView.js","webpack:///./src/mapWrapper.js","webpack:///../node_modules/google-maps/lib/Google.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB,IAAI,aAAa,YAAY,eAAe;AACrF;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;;;;;;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACxBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,oBAAoB;AACpB;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;;;;;;;AC7CA;;AAEA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;;AAEA,CAAC;;;AAGD;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,aAAa,yBAAyB;AACtC;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,sBAAsB;AACnC;AACA;;AAEA;AACA;;;AAGA;;AAEA,CAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1a002b12bc793bbd5ef5","const Request = require('./services/request.js');\nconst CountryView = require('./views/countryView');\nconst MapWrapper = require('./mapWrapper');\n\nlet countryData = [];\n\nconst request = new Request(\"http://localhost:3000/api/countries\")\nconst countryView = new CountryView();\n\nvar app = function(){\nconst url = \"https://restcountries.eu/rest/v2/all\";\nmakeRequest(url, requestComplete);\n\nconst saveCountryButton = document.querySelector('#save-country');\nsaveCountryButton.addEventListener('click', saveCountryButtonClicked)\n\nconst deleteButton = document.querySelector('#deleteButton');\ndeleteButton.addEventListener('click', deleteButtonClicked);\n}\n\n\nconst makeRequest = function(url, callback) {\n  const request = new XMLHttpRequest();\n  request.open('GET', url);\n  request.send();\n  request.addEventListener('load', callback);\n};\n\n\nconst requestComplete = function() {\n  if (this.status !== 200) return;\n  const jsonString = this.responseText;\n  countryData = JSON.parse(jsonString);\n  const select = document.querySelector('#all-countries-list');\n  select.addEventListener('change', function(){\n    let selectedCountry = countryData[this.value];\n  })\n  populateDropDown(countryData);\n}\n\nconst populateDropDown = function(country) {\n  const dropDown = document.querySelector('#all-countries-list');\n  country.forEach(function(country, index) {\n    const option = document.createElement('option');\n    option.value = index;\n    // option.value = `${country.capital}, ${country.name}, region: ${country.region}`;\n    option.innerText = country.name;\n    dropDown.appendChild(option);\n  })\n}\n//this is my post request where i am saving information\nconst saveCountryButtonClicked = function() {\n  //this needs to be an index\n  const countryValue = document.querySelector('#all-countries-list').value;\n  const country = countryData[countryValue];\n\n  const body = {\n    name: country.name,\n    capital: country.capital\n}\n\n  request.post(saveCountryRequestComplete, body);\n}\n\nconst saveCountryRequestComplete = function(name) {\n  countryView.addCountry(name);\n}\n\n\nconst deleteButtonClicked = function(evt) {\n  console.log('delete button clicked');\n  request.delete(deleteRequestComplete);\n}\n\nconst deleteRequestComplete = function() {\n  countryView.clear();\n}\n\nvar initialize = function(){\n  var mapDiv = document.getElementById('main-map');\n\n  var center = { lat: 40.712784, lng: -74.005941 };\n\n  var mainMap = new MapWrapper(mapDiv, center, 10, function() {\n    mainMap.addMarker(center);\n    mainMap.addClickEvent();\n  });\n\n  // var bounceButton = document.querySelector('#button-bounce-markers')\n  // bounceButton.addEventListener('click', mainMap.bounceMarkers.bind(mainMap))\n}\n\ndocument.addEventListener('DOMContentLoaded', app);\nwindow.addEventListener('load', initialize);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.js\n// module id = 0\n// module chunks = 0","const Request = function(url) {\n  this.url = url;\n}\n//making this pretty generic, si it can be re-usable\nRequest.prototype.get = function(callback) {\n  const request = new XMLHttpRequest();\n  request.open('GET', this.url);\n  request.addEventListener('load', function(){\n    if(this.status != 200) {\n      return;\n    }\n    const responseBody = JSON.parse(this.responseText);\n//responseBody will be allQuotes, this is dynamic - the callback can we\n//whatever you want it to be, single responsibilty obeyed\n    callback(responseBody);\n  });\n  //need to send it in here - at the very end of the function\n  request.send();\n}\n\nRequest.prototype.post = function(callback, body) {\n  const request = new XMLHttpRequest();\n  request.open('POST', this.url);\n  //sometimes we need to tell the server what we're giving it in a header, where\n  //the additional info lives/ insomnia did it all for us\n  //now we need to add a header in js\n  request.setRequestHeader('Content-Type', 'application/json');\n  request.addEventListener('load', function(){\n    if(this.status != 201) {\n      return;\n    }\n    const responseBody = JSON.parse(this.responseText);\n    callback(responseBody);\n  });\n  //we need to pass the body but stringified, so another funciton doesn't\n  //need to worry about it, it's ready to go\n  request.send(JSON.stringify(body));\n}\n\nRequest.prototype.delete = function(callback) {\n  const request = new XMLHttpRequest();\n  request.open('DELETE', this.url);\n  request.addEventListener('load', function() {\n    if(this.status!==204) {\n      return;\n    }\n    callback();\n  });\n  request.send();\n}\n\nmodule.exports = Request;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/services/request.js\n// module id = 1\n// module chunks = 0","var CountryView = function(){\n  this.countries = [];\n}\n//everytime you add a country it adds it to the array and displays it\nCountryView.prototype.addCountry = function(country) {\n  this.countries.push(country);\n  this.render(country);\n}\n\nCountryView.prototype.clear = function(country) {\n  this.countries = [];\n  const ul = document.querySelector('#countries');\n  ul.innerHTML = '';\n}\n//all the appending in this one\nCountryView.prototype.render = function(country){\n    const ul = document.querySelector('#countries');\n    const liName = document.createElement('li');\n    liName.innerText = country.name;\n    const liCapital = document.createElement('li');\n    liCapital.innerText = country.capital;\n    ul.appendChild(liName);\n    ul.appendChild(liCapital);\n}\n\n module.exports = CountryView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/countryView.js\n// module id = 2\n// module chunks = 0","\nvar GoogleMapsLoader = require('google-maps');\n\nvar MapWrapper = function (container, coords, zoom, whenmaploaded) {\n  GoogleMapsLoader.load(function(google){\n    this.google = google;\n    this.googleMap = new google.maps.Map(container, {\n      center: coords,\n      zoom: zoom\n    });\n    this.markers = [];\n\n    //This executes in callback for the laod method\n    //So if it hits, the map is laoded\n    whenmaploaded();\n\n  }.bind(this));\n}\n\n\n\nMapWrapper.prototype.addMarker = function (coords) {\n\n  console.log(this.google);\n  var marker = new this.google.maps.Marker({\n    position: coords,\n    map: this.googleMap\n  });\n  this.markers.push(marker)\n}\n\nMapWrapper.prototype.addClickEvent = function () {\n  this.googleMap.addListener('click', function (event) {\n    var position = { lat: event.latLng.lat(), lng: event.latLng.lng() }\n    this.addMarker(position);\n  }.bind(this));\n}\n\nMapWrapper.prototype.bounceMarkers = function () {\n  this.markers.forEach(function (marker) {\n    marker.setAnimation(google.maps.Animation.BOUNCE);\n  })\n}\n\n\nmodule.exports = MapWrapper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mapWrapper.js\n// module id = 3\n// module chunks = 0","(function(root, factory) {\n\n\tif (root === null) {\n\t\tthrow new Error('Google-maps package can be used only in browser');\n\t}\n\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.GoogleMapsLoader = factory();\n\t}\n\n})(typeof window !== 'undefined' ? window : null, function() {\n\n\n\t'use strict';\n\n\n\tvar googleVersion = '3.18';\n\n\tvar script = null;\n\n\tvar google = null;\n\n\tvar loading = false;\n\n\tvar callbacks = [];\n\n\tvar onLoadEvents = [];\n\n\tvar originalCreateLoaderMethod = null;\n\n\n\tvar GoogleMapsLoader = {};\n\n\n\tGoogleMapsLoader.URL = 'https://maps.googleapis.com/maps/api/js';\n\n\tGoogleMapsLoader.KEY = null;\n\n\tGoogleMapsLoader.LIBRARIES = [];\n\n\tGoogleMapsLoader.CLIENT = null;\n\n\tGoogleMapsLoader.CHANNEL = null;\n\n\tGoogleMapsLoader.LANGUAGE = null;\n\n\tGoogleMapsLoader.REGION = null;\n\n\tGoogleMapsLoader.VERSION = googleVersion;\n\n\tGoogleMapsLoader.WINDOW_CALLBACK_NAME = '__google_maps_api_provider_initializator__';\n\n\n\tGoogleMapsLoader._googleMockApiObject = {};\n\n\n\tGoogleMapsLoader.load = function(fn) {\n\t\tif (google === null) {\n\t\t\tif (loading === true) {\n\t\t\t\tif (fn) {\n\t\t\t\t\tcallbacks.push(fn);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tloading = true;\n\n\t\t\t\twindow[GoogleMapsLoader.WINDOW_CALLBACK_NAME] = function() {\n\t\t\t\t\tready(fn);\n\t\t\t\t};\n\n\t\t\t\tGoogleMapsLoader.createLoader();\n\t\t\t}\n\t\t} else if (fn) {\n\t\t\tfn(google);\n\t\t}\n\t};\n\n\n\tGoogleMapsLoader.createLoader = function() {\n\t\tscript = document.createElement('script');\n\t\tscript.type = 'text/javascript';\n\t\tscript.src = GoogleMapsLoader.createUrl();\n\n\t\tdocument.body.appendChild(script);\n\t};\n\n\n\tGoogleMapsLoader.isLoaded = function() {\n\t\treturn google !== null;\n\t};\n\n\n\tGoogleMapsLoader.createUrl = function() {\n\t\tvar url = GoogleMapsLoader.URL;\n\n\t\turl += '?callback=' + GoogleMapsLoader.WINDOW_CALLBACK_NAME;\n\n\t\tif (GoogleMapsLoader.KEY) {\n\t\t\turl += '&key=' + GoogleMapsLoader.KEY;\n\t\t}\n\n\t\tif (GoogleMapsLoader.LIBRARIES.length > 0) {\n\t\t\turl += '&libraries=' + GoogleMapsLoader.LIBRARIES.join(',');\n\t\t}\n\n\t\tif (GoogleMapsLoader.CLIENT) {\n\t\t\turl += '&client=' + GoogleMapsLoader.CLIENT + '&v=' + GoogleMapsLoader.VERSION;\n\t\t}\n\n\t\tif (GoogleMapsLoader.CHANNEL) {\n\t\t\turl += '&channel=' + GoogleMapsLoader.CHANNEL;\n\t\t}\n\n\t\tif (GoogleMapsLoader.LANGUAGE) {\n\t\t\turl += '&language=' + GoogleMapsLoader.LANGUAGE;\n\t\t}\n\n\t\tif (GoogleMapsLoader.REGION) {\n\t\t\turl += '&region=' + GoogleMapsLoader.REGION;\n\t\t}\n\n\t\treturn url;\n\t};\n\n\n\tGoogleMapsLoader.release = function(fn) {\n\t\tvar release = function() {\n\t\t\tGoogleMapsLoader.KEY = null;\n\t\t\tGoogleMapsLoader.LIBRARIES = [];\n\t\t\tGoogleMapsLoader.CLIENT = null;\n\t\t\tGoogleMapsLoader.CHANNEL = null;\n\t\t\tGoogleMapsLoader.LANGUAGE = null;\n\t\t\tGoogleMapsLoader.REGION = null;\n\t\t\tGoogleMapsLoader.VERSION = googleVersion;\n\n\t\t\tgoogle = null;\n\t\t\tloading = false;\n\t\t\tcallbacks = [];\n\t\t\tonLoadEvents = [];\n\n\t\t\tif (typeof window.google !== 'undefined') {\n\t\t\t\tdelete window.google;\n\t\t\t}\n\n\t\t\tif (typeof window[GoogleMapsLoader.WINDOW_CALLBACK_NAME] !== 'undefined') {\n\t\t\t\tdelete window[GoogleMapsLoader.WINDOW_CALLBACK_NAME];\n\t\t\t}\n\n\t\t\tif (originalCreateLoaderMethod !== null) {\n\t\t\t\tGoogleMapsLoader.createLoader = originalCreateLoaderMethod;\n\t\t\t\toriginalCreateLoaderMethod = null;\n\t\t\t}\n\n\t\t\tif (script !== null) {\n\t\t\t\tscript.parentElement.removeChild(script);\n\t\t\t\tscript = null;\n\t\t\t}\n\n\t\t\tif (fn) {\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\n\t\tif (loading) {\n\t\t\tGoogleMapsLoader.load(function() {\n\t\t\t\trelease();\n\t\t\t});\n\t\t} else {\n\t\t\trelease();\n\t\t}\n\t};\n\n\n\tGoogleMapsLoader.onLoad = function(fn) {\n\t\tonLoadEvents.push(fn);\n\t};\n\n\n\tGoogleMapsLoader.makeMock = function() {\n\t\toriginalCreateLoaderMethod = GoogleMapsLoader.createLoader;\n\n\t\tGoogleMapsLoader.createLoader = function() {\n\t\t\twindow.google = GoogleMapsLoader._googleMockApiObject;\n\t\t\twindow[GoogleMapsLoader.WINDOW_CALLBACK_NAME]();\n\t\t};\n\t};\n\n\n\tvar ready = function(fn) {\n\t\tvar i;\n\n\t\tloading = false;\n\n\t\tif (google === null) {\n\t\t\tgoogle = window.google;\n\t\t}\n\n\t\tfor (i = 0; i < onLoadEvents.length; i++) {\n\t\t\tonLoadEvents[i](google);\n\t\t}\n\n\t\tif (fn) {\n\t\t\tfn(google);\n\t\t}\n\n\t\tfor (i = 0; i < callbacks.length; i++) {\n\t\t\tcallbacks[i](google);\n\t\t}\n\n\t\tcallbacks = [];\n\t};\n\n\n\treturn GoogleMapsLoader;\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/google-maps/lib/Google.js\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}